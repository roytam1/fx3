<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html; charset=ISO-8859-1"
 http-equiv="content-type">
  <title>Building Standalone Composer</title>
</head>
<body>
<h2 style="border-bottom: thin solid black;">Getting the source and
building Standalone Composer</h2>
<h3>UNIX, Windows (gmake)</h3>
<ol>
  <li>Create a .mozconfig file in your home directory, or in the
mozilla directory, containing the following:<br>
    <br>
    <code>ac_add_options --enable-crypto<br>
ac_add_options --disable-debug<br>
    <span style="color: rgb(255, 0, 0);">ac_add_options
--enable-optimize=-O2</span><br>
ac_add_options --disable-ldap<br>
ac_add_options --disable-mailnews<br>
ac_add_options --disable-mathml<br>
ac_add_options --disable-installer<br>
ac_add_options --disable-activex<br>
ac_add_options --disable-activex-scripting<br>
ac_add_options --disable-tests<br>
ac_add_options --disable-oji<br>
ac_add_options --disable-necko-disk-cache<br>
ac_add_options --disable-profilesharing<br>
ac_add_options
--enable-extensions=cookie,xml-rpc,xmlextras,pref,universalchardet,webservices<br>
    <br>
# Note: Only include icon for mac, windows and os2<br>
ac_add_options --enable-image-decoders=icon,png,gif,jpeg<br>
    <br>
    <br>
export MOZ_STANDALONE_COMPOSER=1<br>
mk_add_options MOZ_STANDALONE_COMPOSER=1<br>
    <br>
    </code>
    <p><span style="font-weight: bold; color: rgb(255, 0, 0);">Warning</span>:
DO NOT USE <code>--enable-optimize=-O2</code>
on Windows. There are bugs. Simply use <code>--enable-optimize</code>.</p>
  </li>
  <li>Pull from CVS and build as described in the <a
 href="http://www.mozilla.org/build/unix.html">Mozilla build
instructions</a>.</li>
  <li>If your build breaks in mozilla/toolkit/components/console,
during some JAR packaging, you may be running into <a
 href="http://bugzilla.mozilla.org/show_bug.cgi?id=206785">Bug #206785</a>
where the xul pre-processor is dying. A temporary work around is listed
in the bug, just replace MOZ_THUNDERBIRD by MOZ_STANDALONE_COMPOSER<br>
  </li>
  <li>Run the <code>composer </code>executable that is left in
dist/bin</li>
</ol>
<br>
<br>
</body>
</html>
